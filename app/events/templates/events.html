<ion-navbar *navbar teal>
  <ion-title teal-lite>Events</ion-title>
</ion-navbar>
<ion-content class="events-content" padding>
  <div class="loader">
    <div class="relative" [ngClass]="{hide: eventsLoadedDone}">
      <div class="slider-loader">
        <div pink-dark class="line"></div>
        <div light class="break dot1"></div>
        <div light class="break dot2"></div>
        <div light class="break dot3"></div>
      </div>
    </div>
  </div>
  <ion-list>
    <!--<ion-item>
      <button (click)="import()">import</button>
    </ion-item>-->
    <ion-card *ngFor="#event of events; var index=index" class="event-item show">
      <ion-card-content>
        <span class="date" teal-dark>
          <i>{{event.date}}</i>
        </span>
        <button (click)="toggleVisible(index)" ion-item>
          <h2 item-left dark>{{event.place?.name}}</h2>
        </button>
        <ion-item class="animated show">
          <button item-left clear (click)="setPlayer(index)">
            <icon done-all [ngClass]="{
            'pink-dark': event.uuidInPlayers,
            'teal': !event.uuidInPlayers
            }"></icon>
          </button>
          <button clear item-right teal-light
          class="badge item-right"
          (click)="goDetail(event)"
          [ngClass]="{
            danger:event.playerCount< 4,
            lime: event.playerCount < 10,
            lime: event.playerCount >= 4,
            teal: event.playerCount >= 10
          }">
            {{event.playerCount}}
            <icon ios="person" md="people" [ngClass]="{danger:event.playerCount< 4,
          lime: event.playerCount < 10,
          lime: event.playerCount >= 4,
          teal: event.playerCount >= 10
          }"></icon>
          <span>|</span>
          </button>
          <button clear item-right teal-light>
            <icon chatboxes teal-dark></icon>
            {{event.comments?.length}}
          </button>
        </ion-item>
      </ion-card-content>
    </ion-card>
  </ion-list>
</ion-content>